import"./base-295e6725.js";import{E as v,a as E}from"./el-form-item-aaab0f09.js";import{E as _,a as V,b as x}from"./el-input-c1d1c214.js";import{d as I,u as h,r as c,a as f,b as F,l as C,c as B,e as t,w as r,f as R,o as U,g}from"./index-8e5c6ca0.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const N={class:"home"},S=I({__name:"home",setup(T){const u=h(),s=c({username:"",password:""});f();const b=()=>{p()};document.onkeydown=a=>{a.keyCode===13&&p()};const n=R(),d=f(),p=()=>{var a;(a=F(d))==null||a.validate(e=>{e&&C(s.username,s.password).then(o=>{o.status?(_(o.message),n.commit("setIslogin",!0),n.commit("setToken",o.data.token),n.commit("setUserInfo",o.data.userInfo),localStorage.setItem("token",o.data.token),u.push("/doc")):_.error(o.message)})})},w=()=>{u.push("/register")},k=c({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]});return(a,e)=>{const o=V,m=E,i=x,y=v;return U(),B("div",N,[t(y,{model:s,ref_key:"ruleFormRef",ref:d,"label-width":"75px","label-position":"left",rules:k,"status-icon":""},{default:r(()=>[t(m,{label:"用户名",class:"item",prop:"username"},{default:r(()=>[t(o,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=l=>s.username=l),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),t(m,{label:"密码",class:"item",prop:"password"},{default:r(()=>[t(o,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=l=>s.password=l),placeholder:"请输入密码","show-password":""},null,8,["modelValue"])]),_:1}),t(m,{label:"",class:"item"},{default:r(()=>[t(i,{type:"primary",onClick:e[2]||(e[2]=l=>b())},{default:r(()=>[g("登陆")]),_:1}),t(i,{type:"primary",onClick:e[3]||(e[3]=l=>w())},{default:r(()=>[g("注册")]),_:1})]),_:1})]),_:1},8,["model","rules"])])}}});const D=q(S,[["__scopeId","data-v-3619bce9"]]);export{D as default};

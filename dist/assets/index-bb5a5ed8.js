import{a7 as b,a8 as h,I as C,a9 as w,a1 as c,d as g,e as k,h as i,J as M}from"./index-8e5c6ca0.js";import{t as x,u as f,z as S,h as m,U as E,g as O,r as P,b as T,d as y}from"./base-295e6725.js";import{a as z}from"./scroll-c996a468.js";import{P as d}from"./vnode-d81291be.js";const j=(e,t={})=>{b(e)||x("[useLockscreen]","You need to pass a ref param to this function");const s=t.ns||f("popup"),a=h(()=>s.bm("parent","hidden"));if(!S||m(document.body,a.value))return;let l=0,n=!1,o="0";const r=()=>{setTimeout(()=>{P(document==null?void 0:document.body,a.value),n&&document&&(document.body.style.width=o)},200)};C(e,u=>{if(!u){r();return}n=!m(document.body,a.value),n&&(o=document.body.style.width),l=z(s.namespace.value);const p=document.documentElement.clientHeight<document.body.scrollHeight,v=E(document.body,"overflowY");l>0&&(p||v==="scroll")&&n&&(document.body.style.width=`calc(100% - ${l}px)`),O(document.body,a.value)}),w(()=>r())},I=e=>{if(!e)return{onClick:c,onMousedown:c,onMouseup:c};let t=!1,s=!1;return{onClick:o=>{t&&s&&e(o),t=s=!1},onMousedown:o=>{t=o.target===o.currentTarget},onMouseup:o=>{s=o.target===o.currentTarget}}},B=T({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:y([String,Array,Object])},zIndex:{type:y([String,Number])}}),L={click:e=>e instanceof MouseEvent},H="overlay";var N=g({name:"ElOverlay",props:B,emits:L,setup(e,{slots:t,emit:s}){const a=f(H),l=u=>{s("click",u)},{onClick:n,onMousedown:o,onMouseup:r}=I(e.customMaskEvent?void 0:l);return()=>e.mask?k("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:n,onMousedown:o,onMouseup:r},[i(t,"default")],d.STYLE|d.CLASS|d.PROPS,["onClick","onMouseup","onMousedown"]):M("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[i(t,"default")])}});const D=N;export{D as E,I as a,j as u};

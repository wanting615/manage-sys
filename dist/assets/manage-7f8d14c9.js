import"./base-295e6725.js";/* empty css                   */import{b as v}from"./el-popper-5757448a.js";import{E as V,a as x}from"./el-table-column-dc14038b.js";import"./el-checkbox-e51c4648.js";import"./el-scrollbar-555f0517.js";import{E as C}from"./el-switch-6985f7dd.js";import{E as k}from"./el-divider-3264d482.js";import{E as u,b as L}from"./el-input-c1d1c214.js";import{e as U,g as B}from"./doc-a460a9ac.js";import{_ as N}from"./drawer.vue_vue_type_style_index_0_lang-e0452a47.js";import{d as S,r as F,o as d,c as m,A as p,e as t,w as r,b as $,t as _,F as f,E as z,g as A}from"./index-8e5c6ca0.js";import"./scroll-c996a468.js";import"./index-3223a3e0.js";import"./el-form-item-aaab0f09.js";/* empty css                */import"./index-bb5a5ed8.js";import"./vnode-d81291be.js";const M={class:"container"},P=["src"],j={style:{"margin-left":"10px"}},q={style:{"margin-left":"10px"}},se=S({__name:"manage",setup(G){const w="http://localhost:3000/",a=F({docTypeList:[],rowData:null,docTypeDrawer:!1}),b=o=>{a.docTypeDrawer=!0,a.rowData=o},y=o=>()=>new Promise((s,l)=>{U(o.id,o.disabled===1?0:1).then(n=>{n.status?(s(!0),u.success(n.message),c()):(l(new Error("Error")),u.error(n.message))})}),c=()=>{B().then(o=>{a.docTypeList=o.data})};c();const g=o=>{c()};return(o,s)=>{const l=V,n=L,h=k,E=C,T=x,D=v;return d(),m(f,null,[p("div",M,[t(D,{style:{padding:"8px","background-color":"#fff"}},{default:r(()=>[t(T,{data:a.docTypeList,border:!0,stripe:!0,style:{width:"100%"},"row-class-name":"table"},{default:r(()=>[t(l,{label:"文档类型图标"},{default:r(e=>[p("img",{src:$(w)+e.row.iconUrl,width:"30"},null,8,P)]),_:1}),t(l,{label:"文档类型"},{default:r(e=>[p("span",j,_(e.row.name),1)]),_:1}),t(l,{label:"文档子类型"},{default:r(e=>[(d(!0),m(f,null,z(e.row.contentTypes,i=>(d(),m("span",q,_(i),1))),256))]),_:1}),t(l,{label:"操作",width:"120"},{default:r(e=>[t(n,{size:"small",type:"primary",link:"",onClick:i=>b(e.row)},{default:r(()=>[A("编辑")]),_:2},1032,["onClick"]),t(h,{direction:"vertical"}),t(E,{modelValue:e.row.disabled,"onUpdate:modelValue":i=>e.row.disabled=i,"active-value":1,"inactive-value":0,"inline-prompt":"","active-text":"启用","inactive-text":"禁用","before-change":y(e.row)},null,8,["modelValue","onUpdate:modelValue","before-change"])]),_:1})]),_:1},8,["data"])]),_:1})]),t(N,{modelValue:a.docTypeDrawer,"onUpdate:modelValue":s[0]||(s[0]=e=>a.docTypeDrawer=e),"doc-type":a.rowData,onCloseDarwer:g},null,8,["modelValue","doc-type"])],64)}}});export{se as default};
